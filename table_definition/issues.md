# Djangoプロジェクト改善課題

## 概要
このドキュメントは、`table_definition`ディレクトリにあるDjangoプロジェクトをよりモジュール化し、スタンドアロンプロジェクトとして抽出しやすくするための潜在的な改善点を列挙しています。

## 課題と推奨事項

### 1. アプリ設定の命名の不一致
- **課題**: `admin_server/apps.py`において、アプリ設定クラスが'admin_server'アプリ用であるにもかかわらず`WixConfig`と名付けられています。
- **推奨**: クラス名をアプリ名と一致させ、明確にするために`AdminServerConfig`にリネームしてください。

### 2. Rust同期における不足モデル
- **課題**: `syncdb/src/main.rs`のRustコードは、Djangoモデルの一部（Card、CardType、Product、Klass）のみを同期し、Color、Lrig、Timing、Featureなどの他のモデルを無視しています。
- **推奨**: syncdbツールを更新してすべてのモデルを同期するか、特定のモデルが除外される理由を文書化してください。

### 3. APIドキュメントの欠如
- **課題**: DjangoプロジェクトがRustアプリケーションによってAPIとしてどのように使用されるべきかについての明確なドキュメントがありません。
- **推奨**: DjangoとRust間の期待される相互作用を説明するAPIドキュメントを追加してください。

### 4. ハードコードされたデータベース設定
- **課題**: データベース認証情報に環境変数が使用されていますが、データベースエンジン（PostgreSQL）はsettings.pyにハードコードされています。
- **推奨**: より柔軟性を高めるために、データベースエンジンを環境変数を通じて設定可能にしてください。

### 5. テストの欠如
- **課題**: Djangoモデルやビューのテストが存在しないようです。
- **推奨**: Djangoプロジェクトが単独で正しく動作することを確認するためのテストを追加してください。

### 6. Rustにおける不完全なモデル関係
- **課題**: Djangoモデルの多対多関係（Card.user、Card.klass、Card.featureなど）はRustでは別のテーブルとして表現されていますが、それらの使用方法に関する明確なドキュメントがありません。
- **推奨**: Rustでこれらの関係を扱うためのドキュメントやヘルパーメソッドを追加してください。

### 7. カスタム管理URLの設定
- **課題**: カスタム管理URL設定が複雑で、スタンドアロンプロジェクトでDjango管理インターフェースを使用することが困難になる可能性があります。
- **推奨**: URL設定を簡素化するか、スタンドアロン使用のためにオプション化してください。

### 8. Django REST Frameworkの欠如
- **課題**: プロジェクトはDjango REST Frameworkを使用していません。これがあれば、Rustアプリケーション用のAPIをより簡単に作成できます。
- **推奨**: より良いAPIサポートのためにDjango REST Frameworkの追加を検討してください。

### 9. マイグレーションファイルの欠如
- **課題**: リポジトリ構造にはマイグレーションファイルが表示されていません。これはデータベーススキーマを設定するために不可欠です。
- **推奨**: マイグレーションファイルを含めるか、それらの生成方法を文書化してください。

### 10. 依存関係管理
- **課題**: requirements.txtファイルは特定のバージョンをリストしており、これは時間とともに古くなる可能性があります。
- **推奨**: より柔軟に依存関係を管理するためにpip-toolsのようなツールの使用を検討してください。

### 11. プロジェクトドキュメントの欠如
- **課題**: Djangoプロジェクトの目的と構造を説明するREADMEやドキュメントがありません。
- **推奨**: セットアップ手順、プロジェクト構造、使用例を含むREADME.mdファイルを追加してください。

### 12. 環境変数管理
- **課題**: プロジェクトは親ディレクトリの.envファイルから環境変数を読み込みますが、これはスタンドアロンプロジェクトでは利用できない可能性があります。
- **推奨**: .envファイルの場所を設定可能にするか、サンプルの.envファイルを提供してください。

### 13. 静的ファイル設定
- **課題**: 静的ファイル設定が複雑で、カスタム管理URLに結びついています。
- **推奨**: スタンドアロン使用のために静的ファイル設定を簡素化してください。

### 14. デバッグモード設定
- **課題**: デバッグモードがFalseにハードコードされており、開発が困難になる可能性があります。
- **推奨**: 環境変数を通じてデバッグモードを設定可能にしてください。

### 15. 管理機能とAPI機能の分離の欠如
- **課題**: admin_serverアプリは管理機能とAPIエンドポイントを混在させています。
- **推奨**: 管理機能とAPIエンドポイントを異なるアプリに分離することを検討してください。
